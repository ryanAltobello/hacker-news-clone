(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,a){e.exports=a.p+"static/media/logo.1981d043.jpg"},32:function(e,t){e.exports="data:image/png;base64,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"},33:function(e,t,a){e.exports=a(64)},63:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(26),c=a.n(o),s=a(4),l=a(11),i=a(28),u=a(66),p=a(6),h=a(7),m=a(9),g=a(8),A=a(10),d=a(17),y=a.n(d),f=a(29),b=a(30),E=a.n(b).a.create({baseURL:"https://hn.algolia.com/api/v1"}),v=function(e){return{type:"SET_PAGE",payload:e}},w=function(){return function(){var e=Object(f.a)(y.a.mark(function e(t,a){var n,r,o,c,s,l,i,u,p;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a().query,r=!Object.keys(n).length,o=a().filter,c=a().sortType,s=a().setPage,Object.keys(c).length||(c="popularity"),isNaN(s)&&(s=0),isNaN(o)&&(o=0),!r||"date"!==c){e.next=12;break}return e.next=8,E.get("/search_by_date?tags=story&numericFilters=created_at_i>".concat(o,"&page=").concat(s));case 8:l=e.sent,t({type:"FETCH_POSTS",payload:l.data}),e.next=31;break;case 12:if(!r||"popularity"!==c){e.next=19;break}return e.next=15,E.get("/search?tags=story&numericFilters=created_at_i>".concat(o,"&page=").concat(s));case 15:i=e.sent,t({type:"FETCH_POSTS",payload:i.data}),e.next=31;break;case 19:if(!n||"date"!==c){e.next=26;break}return e.next=22,E.get("/search_by_date?query=".concat(n,"&tags=story&numericFilters=points>0,created_at_i>").concat(o,"&page=").concat(s));case 22:u=e.sent,t({type:"FETCH_POSTS",payload:u.data}),e.next=31;break;case 26:if(!n||"popularity"!==c){e.next=31;break}return e.next=29,E.get("/search?query=".concat(n,"&tags=story&numericFilters=points>0,created_at_i>").concat(o,"&page=").concat(s));case 29:p=e.sent,t({type:"FETCH_POSTS",payload:p.data});case 31:window.history.pushState(a(),null,"".concat(a().searchResponse.params)),console.log(window.history.state);case 33:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},N=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){a.props.setPage(0);var t=Math.floor(Date.now()/1e3),n=null;"search-sort"===e.target.name?a.props.setSort(e.target.value):("all"===e.target.value?n=0:"day"===e.target.value?n=t-86400:"week"===e.target.value?n=t-604800:"month"===e.target.value&&(n=t-2629800),a.props.setFilter(n)),a.props.searchQuery(),document.getElementsByClassName("select")[0].blur(),document.getElementsByClassName("select")[1].blur()},a}return Object(A.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"search-options-bar"},r.a.createElement("div",{className:"search-options"},r.a.createElement("span",{className:"search-bar-text"},"Sort by"),r.a.createElement("select",{className:"select",name:"search-sort",defaultValue:"popularity",onChange:this.handleChange,passive:"true"},r.a.createElement("option",{value:"popularity"},"Popularity"),r.a.createElement("option",{value:"date"},"Date")),r.a.createElement("span",{className:"search-bar-text"},"for"),r.a.createElement("select",{className:"select",name:"search-filter",defaultValue:"all",onChange:this.handleChange,passive:"true"},r.a.createElement("option",{value:"all"},"All time"),r.a.createElement("option",{value:"day"},"Last 24h"),r.a.createElement("option",{value:"week"},"Past week"),r.a.createElement("option",{value:"month"},"Past month"),r.a.createElement("option",{value:"range"},"Custom range"))))}}]),t}(r.a.Component),O=Object(s.b)(function(e){return{searchResponse:e.searchResponse}},{setSort:function(e){return{type:"SORT_TYPE",payload:e}},setPage:v,setFilter:function(e){return{type:"FILTER_TYPE",payload:e}},searchQuery:w})(N),k=a(31),C=a.n(k),T=a(32),j=a.n(T),I=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){a.props.setPage(0),a.props.setQuery(e.target.value),a.props.searchQuery()},a}return Object(A.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-bar"},r.a.createElement("div",{className:"logo-title"},r.a.createElement("img",{id:"logo",src:C.a,alt:"logo"}),r.a.createElement("h3",null,"Hacker News",r.a.createElement("span",{style:{fontSize:"0.8em"}},"...clone"))),r.a.createElement("div",{className:"search"},r.a.createElement("img",{id:"search-icon",src:j.a,alt:"search icon"}),r.a.createElement("input",{type:"text",onChange:this.handleChange,placeholder:"Search stories..."}))),r.a.createElement(O,null))}}]),t}(r.a.Component),P=Object(s.b)(function(e){return{searchResponse:e.searchResponse,query:e.query,page:e.page}},{setQuery:function(e){return{type:"SET_QUERY",payload:e}},setPage:v,searchQuery:w})(I),R=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(o)))).renderList=function(){if(a.props.searchResponse.hits)return a.props.searchResponse.hits.map(function(e){var t=new Date(1e3*e.created_at_i),n=e.url.split("").slice(0,31).join("");return window.innerWidth>650?r.a.createElement("div",{className:"post-content",key:e.objectID},r.a.createElement("div",{className:"title"},e.title),r.a.createElement("div",{className:"post-info"},r.a.createElement("a",{href:"https://news.ycombinator.com/item?id=".concat(e.objectID),target:"_blank",rel:"noopener noreferrer"},"".concat(e.points," points")),"\xa0 "," | "," \xa0",r.a.createElement("a",{href:"https://news.ycombinator.com/user?id=".concat(e.author),target:"_blank",rel:"noopener noreferrer"},e.author),"\xa0 "," | "," \xa0",a.timeCheck(t),"\xa0 "," | "," \xa0",r.a.createElement("a",{href:"https://news.ycombinator.com/item?id=".concat(e.objectID),target:"_blank",rel:"noopener noreferrer"},"".concat(e.num_comments," comments")),"\xa0 "," | "," \xa0",r.a.createElement("a",{href:e.url},e.url))):r.a.createElement("div",{className:"post-content",key:e.objectID},r.a.createElement("div",{className:"title"},e.title),r.a.createElement("div",{className:"post-info"},r.a.createElement("a",{href:"https://news.ycombinator.com/item?id=".concat(e.objectID),target:"_blank",rel:"noopener noreferrer"},"".concat(e.points," points")),"\xa0 "," | "," \xa0",r.a.createElement("a",{href:"https://news.ycombinator.com/user?id=".concat(e.author),target:"_blank",rel:"noopener noreferrer"},e.author),"\xa0 "," | "," \xa0",a.timeCheck(t),"\xa0 "," | "," \xa0",r.a.createElement("a",{href:"https://news.ycombinator.com/item?id=".concat(e.objectID),target:"_blank",rel:"noopener noreferrer"},"".concat(e.num_comments," comments")),"\xa0 "," | "," \xa0",r.a.createElement("a",{href:e.url},n,"...")))})},a}return Object(A.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){window.onpopstate=function(e){window.history.back(e.state)}}},{key:"timeCheck",value:function(e){var t=new Date-e,a=Math.floor(t/1e3),n=Math.floor(t/1e3/60),r=Math.floor(t/1e3/60/60),o=Math.floor(t/1e3/60/60/24),c=Math.floor(t/1e3/60/60/24/30),s=Math.floor(t/1e3/60/60/24/30/12);return a<119?"1 minute ago":n<60?"".concat(n," minutes ago"):1===r?"1 hour ago":r<24?"".concat(r," hours ago"):1===o?"1 day ago":o<30?"".concat(o," days ago"):1===c?"1 month ago":c<13?"".concat(c," months ago"):1===s?"1 year ago":"".concat(s," years ago")}},{key:"render",value:function(){return r.a.createElement("div",{className:"post-list"},this.renderList())}}]),t}(r.a.Component),B=Object(s.b)(function(e){return{searchResponse:e.searchResponse}})(R),x=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).onClick=function(e){e.target.id!==a.props.page&&(a.props.setPage(parseInt(e.target.id)),a.props.searchQuery())},a}return Object(A.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;if(!this.props.searchResponse.hits&&isNaN(this.props.page))return console.log(this.props.searchResponse),r.a.createElement("div",{style:{fontSize:"36px",marginLeft:"10px"}},"Loading...");console.log(this.props.searchResponse);var t=this.props.page,a=parseInt(this.props.searchResponse.nbPages),n=[];if(a<8)for(var o=0;o<a;o++)n.push(o);else for(var c=t-3;c<=t+3;c++)0===t?n.push(c+3):1===t?n.push(c+2):2===t?n.push(c+1):t===a-1?n.push(c-3):t===a-2?n.push(c-2):t===a-3?n.push(c-1):n.push(c);return r.a.createElement("div",{className:"pagination-content"},r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:0===t?"page disabled":"page",id:0,onClick:this.onClick},"<<"),r.a.createElement("button",{className:0===t?"page disabled":"page",id:t-1,onClick:this.onClick},"<"),n.map(function(a){return r.a.createElement("button",{className:t===a?"page active":"page",id:a,key:a,onClick:e.onClick},"".concat(a+1))}),r.a.createElement("button",{className:t===a-1?"page disabled":"page",id:t+1,onClick:this.onClick},">"),r.a.createElement("button",{className:t===a-1?"page disabled":"page",id:a-1,onClick:this.onClick},">>")))}}]),t}(r.a.Component),Y=Object(s.b)(function(e){return{searchResponse:e.searchResponse,page:e.setPage}},{setPage:v,searchQuery:w})(x),S=function(){return r.a.createElement("div",{className:"post-container"},r.a.createElement(B,null),r.a.createElement(Y,null))},Q=(a(63),function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.setPage(0),this.props.searchQuery()}},{key:"componentDidUpdate",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement(P,null),r.a.createElement(S,null))}}]),t}(r.a.Component)),V=Object(s.b)(function(e){return{searchResponse:e.searchResponse,page:e.setPage}},{setPage:v,searchQuery:w})(Q),L=Object(l.c)({searchResponse:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_POSTS":return t.payload;default:return e}},sortType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SORT_TYPE":return t.payload;default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILTER_TYPE":return t.payload;default:return e}},query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_QUERY":return t.payload;default:return e}},setPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PAGE":return t.payload;default:return e}}}),D=Object(l.d)(L,Object(l.a)(i.a));c.a.render(r.a.createElement(s.a,{store:D},r.a.createElement(u.a,null,r.a.createElement(V,null))),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.d2b4bf7b.chunk.js.map